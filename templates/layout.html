<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}my web programming project{% endblock %}</title>
</head>
<body>
    <header>
        <nav>
            <a href="/">Home</a>
            {% if logged_in %}
                {% if user_role == 1 %}
                    <a href="/stats/trainee">My Statistics</a>

                {% elif user_role == 2 %}
                    <a href="/stats/coach">My Statistics</a>
                {% endif %}
                <a href="/logout">Logout</a>
            {% else %}
                {% if not hide_login_register %}
                    <a href="/login">Login</a>
                    <a href="/register">Register</a>
                {% endif %}
            {% endif %}
        </nav>
    </header>
    <main>
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=True) %}
            {% if messages %}
                <div id="flash-messages">
                    {% for category, message in messages %}
                        <div class="flash-message {{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        <!-- Page Content -->
        {% block content %}{% endblock %}
    </main>
    
    <script>
        setTimeout(() => {
            const flashMessages = document.getElementById('flash-messages');
            if (flashMessages) {
                flashMessages.style.display = 'none';
            }
        }, 3000); // Automatically hide after 3 seconds
    </script>
</body>
</html>
